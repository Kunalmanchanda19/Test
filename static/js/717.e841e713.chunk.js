"use strict";(self.webpackChunkattendance_marking_system=self.webpackChunkattendance_marking_system||[]).push([[717],{717:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var i=t(1889),l=t(6989),r=t(3786),n=t(4294),d=t(2791),s=t(4750),o=t(1652),c=t(1666),m=t(4560),u=t(4392),h=t(4894),x=t(7892),g=t.n(x),b=t(184);const p=[{field:"Temperature",headerName:"Temperature",width:220,disableColumnMenu:!0,headerAlign:"center",align:"center"},{field:"Humidity",headerName:"Humidity",width:220,disableColumnMenu:!0,headerAlign:"center",align:"center"},{field:"CPU",headerName:"CPU",width:180,disableColumnMenu:!0,headerClassName:"text-center",headerAlign:"center",align:"center"},{field:"RAM",headerName:"RAM",width:220,disableColumnMenu:!0,headerClassName:"text-center",headerAlign:"center",align:"center"}],C=[{id:1,label:"Last 2 hrs",value:"2hrs"},{id:2,label:"Last 24 hrs",value:"24hrs"},{id:3,label:"Last 7 days",value:"7days"},{id:4,label:"Custom",value:"cust"}],j=e=>{var a;let{Machines:t,ControllerGuid:x}=e;document.title="Machine Health";const[j,M]=d.useState([]),v=j.map(((e,a)=>({...e,id:a+1}))),D=t.find((e=>e.guid===x)),f=g()().format("YYYY-MM-DD HH:mm:ss"),S=g()(),Z=S.subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),[w,P]=d.useState(C[0].value),[y,T]=d.useState({ControllerGuid:D?D.guid:t.length>0?t[0].guid:"",StartDate:Z,EndDate:f});a="http://localhost:3003";const Y=()=>{},k=e=>e?g()(e).format("YYYY-MM-DD HH:mm:ss"):"",H=y.ControllerGuid.length<=0;return(0,d.useEffect)((()=>{T((e=>{if("2hrs"===w){const a=S.subtract(2,"hour");return{...e,StartDate:k(a)}}if("24hrs"===w){const a=S.subtract(1,"day");return{...e,StartDate:k(a)}}if("7days"===w){const a=S.subtract(7,"day");return{...e,StartDate:k(a)}}return e}))}),[w,j]),(0,b.jsxs)(i.ZP,{container:!0,spacing:2,className:" p-2",children:[(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:4,md:4,lg:4,xl:2.5,children:(0,b.jsx)(l.Z,{select:!0,label:"Machine",sx:{},value:y.ControllerGuid,onChange:e=>{T({...y,ControllerGuid:e.target.value})},fullWidth:!0,children:t.map(((e,a)=>(0,b.jsxs)(r.Z,{value:e.guid,children:["Machine ",a+1,"\xa0",e.location]},e.guid)))})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:4,md:4,lg:4,xl:1.5,children:(0,b.jsx)(l.Z,{select:!0,label:"Duration",value:w,onChange:e=>{P(e.target.value)},sx:{width:"100%"},fullWidth:!0,children:C.map((e=>(0,b.jsx)(r.Z,{value:e.value,children:e.label},e.id)))})}),"cust"===w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:2,md:2,lg:2,xl:3,sx:{marginTop:-1},children:(0,b.jsx)(o._,{dateAdapter:s.y,children:(0,b.jsx)(m.C,{components:["DateTimePicker"],children:(0,b.jsx)(c.x,{label:"From date",value:g()(y.StartDate),onChange:e=>{T({...y,StartDate:k(e)})}})})})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:2,md:2,lg:2,xl:3,className:"",sx:{marginTop:-1},children:(0,b.jsx)(o._,{dateAdapter:s.y,children:(0,b.jsx)(m.C,{components:["DateTimePicker"],children:(0,b.jsx)(c.x,{label:"To date",value:g()(y.EndDate),onChange:e=>{T({...y,EndDate:k(e)})}})})})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:2,md:2,lg:2,xl:1.5,sx:{marginTop:1,paddingY:2},className:"",children:(0,b.jsx)(n.Z,{variant:"contained",fullWidth:!0,sx:{},onClick:Y,disabled:H,children:"FETCH"})})]}):(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:2,md:2,lg:2,xl:2,sx:{marginTop:1,paddingY:2},className:"",children:(0,b.jsx)(n.Z,{variant:"contained",fullWidth:!0,sx:{},onClick:Y,disabled:H,children:"FETCH"})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:6,lg:8,xl:8}),(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:4,className:"p-2 text-right",children:(0,b.jsxs)(n.Z,{variant:"outlined",sx:{},children:[(0,b.jsx)(u.Z,{}),"Download"]})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:12,children:(0,b.jsx)("div",{style:{height:550,width:"100%"},children:(0,b.jsx)(h._$,{rows:v,rowHeight:60,columns:p,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},sx:{fontWeight:400,fontSize:14,borderRadius:3,padding:5,borderColor:"black",borderStyle:"dashed",paddingRight:5,"& .MuiDataGrid-row":{height:30,border:1,borderColor:"#EDEFF1",width:"99.5%",marginTop:1,borderRadius:2},"& .MuiDataGrid-columnHeaders":{width:"99.5%",marginBottom:2,boxShadow:2,backgroundColor:"#F4F6F8",borderRadius:3},"& .MuiDataGrid-footerContainer":{},"& .MuiTablePagination-selectLabel":{color:"rgba(0, 54, 101, 0.6)"},"& .MuiSelect-select":{color:"#003665"},"& .MuiTablePagination-displayedRows":{color:"#003665"},"& .MuiSvgIcon-root":{color:"#003665"},"&>.MuiDataGrid-main":{"& div div div div >.MuiDataGrid-cell":{borderBottom:"none"}}},pageSizeOptions:[5,10],disableRowSelectionOnClick:!0})})})]})}}}]);
//# sourceMappingURL=717.e841e713.chunk.js.map